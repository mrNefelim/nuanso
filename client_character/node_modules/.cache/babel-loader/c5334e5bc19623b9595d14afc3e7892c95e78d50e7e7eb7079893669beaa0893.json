{"ast":null,"code":"const STORAGE_KEY = 'personas';\nexport const getPersona = async id => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const persona = personas.find(p => p.id === id);\n  if (!persona) {\n    throw new Error('Persona not found');\n  }\n  return {\n    ...persona,\n    characteristics: persona.characteristics || []\n  };\n};\nexport const updatePersona = async (id, persona) => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const index = personas.findIndex(p => p.id === id);\n  if (index === -1) {\n    throw new Error('Persona not found');\n  }\n  const updatedPersona = {\n    ...persona,\n    characteristics: persona.characteristics || []\n  };\n  personas[index] = updatedPersona;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(personas));\n  return updatedPersona;\n};","map":{"version":3,"names":["STORAGE_KEY","getPersona","id","personas","JSON","parse","localStorage","getItem","persona","find","p","Error","characteristics","updatePersona","index","findIndex","updatedPersona","setItem","stringify"],"sources":["/Users/dmitrii/Projects/client_character/src/api/index.ts"],"sourcesContent":["import { Persona } from '../types/index';\n\nconst STORAGE_KEY = 'personas';\n\nexport const getPersona = async (id: string): Promise<Persona> => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const persona = personas.find((p: Persona) => p.id === id);\n  \n  if (!persona) {\n    throw new Error('Persona not found');\n  }\n  \n  return {\n    ...persona,\n    characteristics: persona.characteristics || []\n  };\n};\n\nexport const updatePersona = async (id: string, persona: Persona): Promise<Persona> => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const index = personas.findIndex((p: Persona) => p.id === id);\n  \n  if (index === -1) {\n    throw new Error('Persona not found');\n  }\n  \n  const updatedPersona = {\n    ...persona,\n    characteristics: persona.characteristics || []\n  };\n  \n  personas[index] = updatedPersona;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(personas));\n  \n  return updatedPersona;\n}; "],"mappings":"AAEA,MAAMA,WAAW,GAAG,UAAU;AAE9B,OAAO,MAAMC,UAAU,GAAG,MAAOC,EAAU,IAAuB;EAChE,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACP,WAAW,CAAC,IAAI,IAAI,CAAC;EACtE,MAAMQ,OAAO,GAAGL,QAAQ,CAACM,IAAI,CAAEC,CAAU,IAAKA,CAAC,CAACR,EAAE,KAAKA,EAAE,CAAC;EAE1D,IAAI,CAACM,OAAO,EAAE;IACZ,MAAM,IAAIG,KAAK,CAAC,mBAAmB,CAAC;EACtC;EAEA,OAAO;IACL,GAAGH,OAAO;IACVI,eAAe,EAAEJ,OAAO,CAACI,eAAe,IAAI;EAC9C,CAAC;AACH,CAAC;AAED,OAAO,MAAMC,aAAa,GAAG,MAAAA,CAAOX,EAAU,EAAEM,OAAgB,KAAuB;EACrF,MAAML,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACP,WAAW,CAAC,IAAI,IAAI,CAAC;EACtE,MAAMc,KAAK,GAAGX,QAAQ,CAACY,SAAS,CAAEL,CAAU,IAAKA,CAAC,CAACR,EAAE,KAAKA,EAAE,CAAC;EAE7D,IAAIY,KAAK,KAAK,CAAC,CAAC,EAAE;IAChB,MAAM,IAAIH,KAAK,CAAC,mBAAmB,CAAC;EACtC;EAEA,MAAMK,cAAc,GAAG;IACrB,GAAGR,OAAO;IACVI,eAAe,EAAEJ,OAAO,CAACI,eAAe,IAAI;EAC9C,CAAC;EAEDT,QAAQ,CAACW,KAAK,CAAC,GAAGE,cAAc;EAChCV,YAAY,CAACW,OAAO,CAACjB,WAAW,EAAEI,IAAI,CAACc,SAAS,CAACf,QAAQ,CAAC,CAAC;EAE3D,OAAOa,cAAc;AACvB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}