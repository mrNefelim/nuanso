{"ast":null,"code":"const STORAGE_KEY = 'personas';\nexport const getPersona = async id => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const persona = personas.find(p => p.id === id);\n  if (!persona) {\n    throw new Error('Persona not found');\n  }\n  return persona;\n};\nexport const updatePersona = async (id, persona) => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const index = personas.findIndex(p => p.id === id);\n  if (index === -1) {\n    throw new Error('Persona not found');\n  }\n  personas[index] = persona;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(personas));\n  return persona;\n};","map":{"version":3,"names":["STORAGE_KEY","getPersona","id","personas","JSON","parse","localStorage","getItem","persona","find","p","Error","updatePersona","index","findIndex","setItem","stringify"],"sources":["/Users/dmitrii/Projects/client_character/src/api/index.ts"],"sourcesContent":["import { Persona } from '../types/index';\n\nconst STORAGE_KEY = 'personas';\n\nexport const getPersona = async (id: string): Promise<Persona> => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const persona = personas.find((p: Persona) => p.id === id);\n  \n  if (!persona) {\n    throw new Error('Persona not found');\n  }\n  \n  return persona;\n};\n\nexport const updatePersona = async (id: string, persona: Persona): Promise<Persona> => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const index = personas.findIndex((p: Persona) => p.id === id);\n  \n  if (index === -1) {\n    throw new Error('Persona not found');\n  }\n  \n  personas[index] = persona;\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(personas));\n  \n  return persona;\n}; "],"mappings":"AAEA,MAAMA,WAAW,GAAG,UAAU;AAE9B,OAAO,MAAMC,UAAU,GAAG,MAAOC,EAAU,IAAuB;EAChE,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACP,WAAW,CAAC,IAAI,IAAI,CAAC;EACtE,MAAMQ,OAAO,GAAGL,QAAQ,CAACM,IAAI,CAAEC,CAAU,IAAKA,CAAC,CAACR,EAAE,KAAKA,EAAE,CAAC;EAE1D,IAAI,CAACM,OAAO,EAAE;IACZ,MAAM,IAAIG,KAAK,CAAC,mBAAmB,CAAC;EACtC;EAEA,OAAOH,OAAO;AAChB,CAAC;AAED,OAAO,MAAMI,aAAa,GAAG,MAAAA,CAAOV,EAAU,EAAEM,OAAgB,KAAuB;EACrF,MAAML,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACP,WAAW,CAAC,IAAI,IAAI,CAAC;EACtE,MAAMa,KAAK,GAAGV,QAAQ,CAACW,SAAS,CAAEJ,CAAU,IAAKA,CAAC,CAACR,EAAE,KAAKA,EAAE,CAAC;EAE7D,IAAIW,KAAK,KAAK,CAAC,CAAC,EAAE;IAChB,MAAM,IAAIF,KAAK,CAAC,mBAAmB,CAAC;EACtC;EAEAR,QAAQ,CAACU,KAAK,CAAC,GAAGL,OAAO;EACzBF,YAAY,CAACS,OAAO,CAACf,WAAW,EAAEI,IAAI,CAACY,SAAS,CAACb,QAAQ,CAAC,CAAC;EAE3D,OAAOK,OAAO;AAChB,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}