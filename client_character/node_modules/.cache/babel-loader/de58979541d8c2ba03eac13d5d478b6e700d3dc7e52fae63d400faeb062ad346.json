{"ast":null,"code":"const STORAGE_KEY = 'personas';\nexport const createPersona = async persona => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const newPersona = {\n    ...persona,\n    id: Date.now().toString()\n  };\n  personas.push(newPersona);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(personas));\n  return newPersona.id;\n};\nexport const getPersonasByUser = async () => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  return personas;\n};\nexport const updatePersona = async (id, updates) => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const index = personas.findIndex(p => p.id === id);\n  if (index !== -1) {\n    personas[index] = {\n      ...personas[index],\n      ...updates\n    };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(personas));\n  }\n};\nexport const deletePersona = async id => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const filteredPersonas = personas.filter(p => p.id !== id);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(filteredPersonas));\n};","map":{"version":3,"names":["STORAGE_KEY","createPersona","persona","personas","JSON","parse","localStorage","getItem","newPersona","id","Date","now","toString","push","setItem","stringify","getPersonasByUser","updatePersona","updates","index","findIndex","p","deletePersona","filteredPersonas","filter"],"sources":["/Users/dmitrii/Projects/client_character/src/services/personaService.ts"],"sourcesContent":["import { PersonaCard } from '../types';\n\nconst STORAGE_KEY = 'personas';\n\nexport const createPersona = async (persona: Omit<PersonaCard, 'id'>): Promise<string> => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const newPersona = {\n    ...persona,\n    id: Date.now().toString(),\n  };\n  personas.push(newPersona);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(personas));\n  return newPersona.id;\n};\n\nexport const getPersonasByUser = async (): Promise<PersonaCard[]> => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  return personas;\n};\n\nexport const updatePersona = async (id: string, updates: Partial<PersonaCard>): Promise<void> => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const index = personas.findIndex((p: PersonaCard) => p.id === id);\n  if (index !== -1) {\n    personas[index] = { ...personas[index], ...updates };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(personas));\n  }\n};\n\nexport const deletePersona = async (id: string): Promise<void> => {\n  const personas = JSON.parse(localStorage.getItem(STORAGE_KEY) || '[]');\n  const filteredPersonas = personas.filter((p: PersonaCard) => p.id !== id);\n  localStorage.setItem(STORAGE_KEY, JSON.stringify(filteredPersonas));\n}; "],"mappings":"AAEA,MAAMA,WAAW,GAAG,UAAU;AAE9B,OAAO,MAAMC,aAAa,GAAG,MAAOC,OAAgC,IAAsB;EACxF,MAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACP,WAAW,CAAC,IAAI,IAAI,CAAC;EACtE,MAAMQ,UAAU,GAAG;IACjB,GAAGN,OAAO;IACVO,EAAE,EAAEC,IAAI,CAACC,GAAG,CAAC,CAAC,CAACC,QAAQ,CAAC;EAC1B,CAAC;EACDT,QAAQ,CAACU,IAAI,CAACL,UAAU,CAAC;EACzBF,YAAY,CAACQ,OAAO,CAACd,WAAW,EAAEI,IAAI,CAACW,SAAS,CAACZ,QAAQ,CAAC,CAAC;EAC3D,OAAOK,UAAU,CAACC,EAAE;AACtB,CAAC;AAED,OAAO,MAAMO,iBAAiB,GAAG,MAAAA,CAAA,KAAoC;EACnE,MAAMb,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACP,WAAW,CAAC,IAAI,IAAI,CAAC;EACtE,OAAOG,QAAQ;AACjB,CAAC;AAED,OAAO,MAAMc,aAAa,GAAG,MAAAA,CAAOR,EAAU,EAAES,OAA6B,KAAoB;EAC/F,MAAMf,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACP,WAAW,CAAC,IAAI,IAAI,CAAC;EACtE,MAAMmB,KAAK,GAAGhB,QAAQ,CAACiB,SAAS,CAAEC,CAAc,IAAKA,CAAC,CAACZ,EAAE,KAAKA,EAAE,CAAC;EACjE,IAAIU,KAAK,KAAK,CAAC,CAAC,EAAE;IAChBhB,QAAQ,CAACgB,KAAK,CAAC,GAAG;MAAE,GAAGhB,QAAQ,CAACgB,KAAK,CAAC;MAAE,GAAGD;IAAQ,CAAC;IACpDZ,YAAY,CAACQ,OAAO,CAACd,WAAW,EAAEI,IAAI,CAACW,SAAS,CAACZ,QAAQ,CAAC,CAAC;EAC7D;AACF,CAAC;AAED,OAAO,MAAMmB,aAAa,GAAG,MAAOb,EAAU,IAAoB;EAChE,MAAMN,QAAQ,GAAGC,IAAI,CAACC,KAAK,CAACC,YAAY,CAACC,OAAO,CAACP,WAAW,CAAC,IAAI,IAAI,CAAC;EACtE,MAAMuB,gBAAgB,GAAGpB,QAAQ,CAACqB,MAAM,CAAEH,CAAc,IAAKA,CAAC,CAACZ,EAAE,KAAKA,EAAE,CAAC;EACzEH,YAAY,CAACQ,OAAO,CAACd,WAAW,EAAEI,IAAI,CAACW,SAAS,CAACQ,gBAAgB,CAAC,CAAC;AACrE,CAAC","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}