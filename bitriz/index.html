<!DOCTYPE html>
<html>
<head>
    <title>Авторизация</title>
    <meta http-equiv="X-UA-Compatible" content="IE=edge"/>
    <meta name="robots" content="noindex, nofollow"/>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"/>
    <link href="https://portal-projects.efusion.ru/bitrix/js/intranet/intranet-common.min.css?171015359161199" type="text/css" rel="stylesheet"/>
    <link href="https://portal-projects.efusion.ru/bitrix/js/ui/design-tokens/dist/ui.design-tokens.min.css?171024129722911" type="text/css" rel="stylesheet"/>
    <link href="https://portal-projects.efusion.ru/bitrix/js/intranet/design-tokens/bitrix24/bitrix24-design-tokens.min.css?17101553291467" type="text/css" rel="stylesheet"/>
    <link href="https://portal-projects.efusion.ru/bitrix/js/ui/fonts/montserrat/ui.font.montserrat.min.css?17101535672209" type="text/css" rel="stylesheet"/>
    <link href="https://portal-projects.efusion.ru/bitrix/js/ui/fonts/opensans/ui.font.opensans.min.css?17101535672320" type="text/css" rel="stylesheet"/>
    <link href="https://portal-projects.efusion.ru/bitrix/js/main/popup/dist/main.popup.bundle.min.css?171015420726598" type="text/css" rel="stylesheet"/>
    <link href="https://portal-projects.efusion.ru/bitrix/js/main/loader/dist/loader.bundle.min.css?16819121992029" type="text/css" rel="stylesheet"/>
    <link href="https://portal-projects.efusion.ru/bitrix/js/ui/buttons/dist/ui.buttons.bundle.min.css?171024130026125" type="text/css" rel="stylesheet"/>
    <link href="https://portal-projects.efusion.ru/bitrix/js/ui/dialogs/messagebox/dist/dialogs.bundle.min.css?1710241299538" type="text/css" rel="stylesheet"/>
    <link href="https://portal-projects.efusion.ru/bitrix/js/ui/icon-set/actions/style.min.css?171024129018641" type="text/css" rel="stylesheet"/>
    <link href="https://portal-projects.efusion.ru/bitrix/js/ui/icon-set/main/style.min.css?171024129762271" type="text/css" rel="stylesheet"/>
    <link href="https://portal-projects.efusion.ru/bitrix/cache/css/s1/login/kernel_sidepanel/kernel_sidepanel_v1.css?172848695712473" type="text/css" rel="stylesheet"/>
    <link href="https://portal-projects.efusion.ru/bitrix/cache/css/s1/login/template_e1db879ef21d61d8a0be66c441cdd7e4/template_e1db879ef21d61d8a0be66c441cdd7e4_v1.css?172848695749217" type="text/css" data-template-style="true" rel="stylesheet"/>
    <script>
        if (!window.BX)
            window.BX = {};
        if (!window.BX.message)
            window.BX.message = function(mess) {
                if (typeof mess === 'object') {
                    for (let i in mess) {
                        BX.message[i] = mess[i];
                    }
                    return true;
                }
            };
    </script>
    <script>
        (window.BX || top.BX).message({
            'pull_server_enabled': 'Y',
            'pull_config_timestamp': '1681913561',
            'pull_guest_mode': 'N',
            'pull_guest_user_id': '0'
        });
        (window.BX || top.BX).message({
            'PULL_OLD_REVISION': 'Для продолжения корректной работы с сайтом необходимо перезагрузить страницу.'
        });
    </script>
    <script>
        (window.BX || top.BX).message({
            'JS_CORE_LOADING': 'Загрузка...',
            'JS_CORE_NO_DATA': '- Нет данных -',
            'JS_CORE_WINDOW_CLOSE': 'Закрыть',
            'JS_CORE_WINDOW_EXPAND': 'Развернуть',
            'JS_CORE_WINDOW_NARROW': 'Свернуть в окно',
            'JS_CORE_WINDOW_SAVE': 'Сохранить',
            'JS_CORE_WINDOW_CANCEL': 'Отменить',
            'JS_CORE_WINDOW_CONTINUE': 'Продолжить',
            'JS_CORE_H': 'ч',
            'JS_CORE_M': 'м',
            'JS_CORE_S': 'с',
            'JSADM_AI_HIDE_EXTRA': 'Скрыть лишние',
            'JSADM_AI_ALL_NOTIF': 'Показать все',
            'JSADM_AUTH_REQ': 'Требуется авторизация!',
            'JS_CORE_WINDOW_AUTH': 'Войти',
            'JS_CORE_IMAGE_FULL': 'Полный размер'
        });
    </script>

    <script src="/bitrix/js/main/core/core.min.js?1710241478223197"></script>

    <script>
        BX.Runtime.registerExtension({
            'name': 'main.core',
            'namespace': 'BX',
            'loaded': true
        });
    </script>
    <script>
        BX.setJSList(['/bitrix/js/main/core/core_ajax.js', '/bitrix/js/main/core/core_promise.js', '/bitrix/js/main/polyfill/promise/js/promise.js', '/bitrix/js/main/loadext/loadext.js', '/bitrix/js/main/loadext/extension.js', '/bitrix/js/main/polyfill/promise/js/promise.js', '/bitrix/js/main/polyfill/find/js/find.js', '/bitrix/js/main/polyfill/includes/js/includes.js', '/bitrix/js/main/polyfill/matches/js/matches.js', '/bitrix/js/ui/polyfill/closest/js/closest.js', '/bitrix/js/main/polyfill/fill/main.polyfill.fill.js', '/bitrix/js/main/polyfill/find/js/find.js', '/bitrix/js/main/polyfill/matches/js/matches.js', '/bitrix/js/main/polyfill/core/dist/polyfill.bundle.js', '/bitrix/js/main/core/core.js', '/bitrix/js/main/polyfill/intersectionobserver/js/intersectionobserver.js', '/bitrix/js/main/lazyload/dist/lazyload.bundle.js', '/bitrix/js/main/polyfill/core/dist/polyfill.bundle.js', '/bitrix/js/main/parambag/dist/parambag.bundle.js']);
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'intranet.design-tokens.bitrix24',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'ui.design-tokens',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'ui.fonts.montserrat',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'ui.fonts.opensans',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'main.popup',
            'namespace': 'BX.Main',
            'loaded': true
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'popup',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'fx',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'main.qrcode',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'qrcode',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'main.loader',
            'namespace': 'BX',
            'loaded': true
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'loader',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        (window.BX || top.BX).message({
            'UI_BUTTONS_SAVE_BTN_TEXT': 'Сохранить',
            'UI_BUTTONS_CREATE_BTN_TEXT': 'Создать',
            'UI_BUTTONS_ADD_BTN_TEXT': 'Добавить',
            'UI_BUTTONS_SEND_BTN_TEXT': 'Отправить',
            'UI_BUTTONS_CANCEL_BTN_TEXT': 'Отменить',
            'UI_BUTTONS_CLOSE_BTN_TEXT': 'Закрыть',
            'UI_BUTTONS_APPLY_BTN_TEXT': 'Применить'
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'ui.buttons',
            'namespace': 'BX.UI',
            'loaded': true
        });
    </script>
    <script>
        (window.BX || top.BX).message({
            'UI_MESSAGE_BOX_OK_CAPTION': 'OK',
            'UI_MESSAGE_BOX_CANCEL_CAPTION': 'Отмена',
            'UI_MESSAGE_BOX_YES_CAPTION': 'Да',
            'UI_MESSAGE_BOX_NO_CAPTION': 'Нет'
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'ui.dialogs.messagebox',
            'namespace': 'BX.UI.Dialogs',
            'loaded': true
        });
    </script>
    <script>
        (window.BX || top.BX).message({
            'JS_FUSION_PROJECT_MANAGER_PATH_TO_PROJECT_DETAIL': '/page/project/#PROJECT_ID#/',
            'JS_FUSION_PROJECT_MANAGER_PATH_TO_USERFIELD_CONFIG': '/configs/userfield_list.php?entityId=#ENTITY_ID#&moduleId=fusion.project'
        });
        (window.BX || top.BX).message({
            'JS_FUSION_PROJECT_MANAGER_ERROR_POPUP_TITLE': 'Ошибка'
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'fusion.project.manager',
            'namespace': 'BX.Fusion.Project',
            'loaded': true
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'main.pageobject',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        (window.BX || top.BX).message({
            'CORE_CLIPBOARD_COPY_SUCCESS': 'Скопировано',
            'CORE_CLIPBOARD_COPY_FAILURE': 'Не удалось скопировать'
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'clipboard',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'ui.icon-set.actions',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'ui.icon-set.main',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        (window.BX || top.BX).message({
            'MAIN_SIDEPANEL_CLOSE': 'Закрыть',
            'MAIN_SIDEPANEL_PRINT': 'Печать',
            'MAIN_SIDEPANEL_NEW_WINDOW': 'Открыть в новом окне',
            'MAIN_SIDEPANEL_COPY_LINK': 'Скопировать ссылку',
            'MAIN_SIDEPANEL_MINIMIZE': 'Свернуть',
            'MAIN_SIDEPANEL_REMOVE_ALL': 'Удалить всё из быстрого доступа'
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'sidepanel',
            'namespace': 'window',
            'loaded': true
        });
    </script>
    <script>
        (window.BX || top.BX).message({
            'FUSION_PROJECT_CREATE_BUTTON': 'Создать проект',
            'FUSION_PROJECT_GOTO_BUTTON': 'Перейти в проект'
        });
    </script>
    <script>
        BX.Runtime.registerExtension({
            'name': 'fusion.project.project-create-button',
            'namespace': 'BX.Fusion.Project',
            'loaded': true
        });
    </script>
    <script>
        (window.BX || top.BX).message({
            'LANGUAGE_ID': 'ru',
            'FORMAT_DATE': 'DD.MM.YYYY',
            'FORMAT_DATETIME': 'DD.MM.YYYY HH:MI:SS',
            'COOKIE_PREFIX': 'BITRIX_SM',
            'SERVER_TZ_OFFSET': '10800',
            'UTF_MODE': 'Y',
            'SITE_ID': 's1',
            'SITE_DIR': '/',
            'USER_ID': '',
            'SERVER_TIME': '1728493675',
            'USER_TZ_OFFSET': '0',
            'USER_TZ_AUTO': 'Y',
            'bitrix_sessid': '50ec1ca26a2ae3cd96779fadff5eee74'
        });
    </script>

    <script src="/bitrix/cache/js/s1/login/kernel_main/kernel_main_v1.js?172848695710986"></script>
    <script src="/bitrix/js/pull/protobuf/protobuf.min.js?168191221076433"></script>
    <script src="/bitrix/js/pull/protobuf/model.min.js?168191221014190"></script>
    <script src="/bitrix/js/main/core/core_promise.min.js?16819121942490"></script>
    <script src="/bitrix/js/rest/client/rest.client.min.js?16819122119240"></script>
    <script src="/bitrix/js/pull/client/pull.client.min.js?171024122349554"></script>
    <script src="/bitrix/js/main/popup/dist/main.popup.bundle.min.js?171024145765824"></script>
    <script src="/bitrix/js/main/qrcode/qrcode.min.js?168191219920123"></script>
    <script src="/bitrix/js/main/loader/dist/loader.bundle.min.js?16819121993969"></script>
    <script src="/bitrix/js/ui/buttons/dist/ui.buttons.bundle.min.js?171024130040996"></script>
    <script src="/bitrix/js/ui/dialogs/messagebox/dist/dialogs.bundle.min.js?17102412996232"></script>
    <script src="/bitrix/js/fusion/project/manager/dist/manager.bundle.js?17109221454796"></script>
    <script src="/bitrix/js/main/core/core_clipboard.min.js?17101533152246"></script>
    <script src="/bitrix/cache/js/s1/login/kernel_sidepanel/kernel_sidepanel_v1.js?172848695773788"></script>
    <script src="/bitrix/js/fusion/project/project-create-button/dist/project-create-button.bundle.js?17109221451866"></script>
    <script>
        BX.setJSList(['/bitrix/js/main/core/core_fx.js', '/bitrix/js/main/pageobject/pageobject.js', '/bitrix/js/main/sidepanel/manager.js', '/bitrix/js/main/sidepanel/slider.js']);
    </script>
    <script>
        BX.setCSSList(['/bitrix/js/main/sidepanel/css/sidepanel.css', '/bitrix/templates/login/template_styles.css']);
    </script>
    <script type="text/javascript">
        if (Intl && Intl.DateTimeFormat)
            document.cookie = "BITRIX_SM_TZ=" + Intl.DateTimeFormat().resolvedOptions().timeZone + "; path=/; expires=Wed, 01 Oct 2025 00:00:00 +0300";
    </script>
    <script type="text/javascript">
        (function() {
            "use strict";

            var counter = function()
            {
                var cookie = (function(name) {
                    var parts = ("; " + document.cookie).split("; " + name + "=");
                    if (parts.length == 2) {
                        try {
                            return JSON.parse(decodeURIComponent(parts.pop().split(";").shift()));
                        }
                        catch (e) {}
                    }
                })("BITRIX_CONVERSION_CONTEXT_s1");

                if (cookie && cookie.EXPIRE >= BX.message("SERVER_TIME"))
                    return;

                var request = new XMLHttpRequest();
                request.open("POST", "/bitrix/tools/conversion/ajax_counter.php", true);
                request.setRequestHeader("Content-type", "application/x-www-form-urlencoded");
                request.send(
                    "SITE_ID=" + encodeURIComponent("s1") +
                    "&sessid=" + encodeURIComponent(BX.bitrix_sessid()) +
                    "&HTTP_REFERER=" + encodeURIComponent(document.referrer)
                );
            };

            if (window.frameRequestStart === true)
                BX.addCustomEvent("onFrameDataReceived", counter);
            else
                BX.ready(counter);
        })();
    </script>

</head>
<body>
<table class="log-main-table">
    <tr>
        <td class="log-top-cell">
            <a class="main-logo main-logo-ru" href="https://portal-projects.efusion.ru/" title="Bitrix24"></a>
        </td>
    </tr>
    <tr>
        <td class="log-main-cell">
            <div class="log-popup-wrap " id="login-popup-wrap">
                <div class="log-popup" id="login-popup">
                    <div class="log-popup-form-input --show" data-role="log-popup-form-input">
                        <div class="log-popup-header">Авторизация</div>

                        <div class="b_line_gray"></div>

                        <form name="form_auth" method="post" target="_top" action="/?login=yes">
                            <input type="hidden" name="AUTH_FORM" value="Y"/>
                            <input type="hidden" name="TYPE" value="AUTH"/>
                            <input type="hidden" name="backurl" value="/"/>

                            <div>
                                <div class="login-wrapper">
                                    <div class="login-wrapper-inputs">
                                        <div class="login-item --auth">
                                            <!--[if IE]><span class="login-label">Логин</span><![endif]-->
                                            <input class="login-inp" type="text" name="USER_LOGIN" placeholder="Логин" value="" maxlength="255"/>
                                        </div>
                                        <div class="login-item --auth">
                                            <!--[if IE]><span class="login-label">Пароль</span><![endif]-->
                                            <input class="login-inp" type="password" name="USER_PASSWORD" placeholder="Пароль" maxlength="255" autocomplete="current-password"/>
                                        </div>
                                    </div>

                                    <div class="login-wrapper-qr">
                                        <div class="login-wrapper-qr-link" data-role="login-wrapper-qr-link">
                                            <div class="login-wrapper-qr-icon"></div>
                                            <div class="login-wrapper-qr-text">ВХОД ПО QR</div>
                                        </div>
                                    </div>

                                </div>

                                <div class="login-text login-item --user-remember">
                                    <input type="checkbox" id="USER_REMEMBER" name="USER_REMEMBER" value="Y" class="login-checkbox-user-remember"/>
                                    <label class="login-item-checkbox-label" for="USER_REMEMBER">Запомнить меня на этом компьютере</label>
                                </div>
                            </div>
                            <div class="log-popup-footer ">
                                <input type="submit" value="Войти" class="login-btn" onclick="BX.addClass(this, 'wait');"/>
                                <a class="login-link-forgot-pass" href="https://portal-projects.efusion.ru/?forgot_password=yes">Забыли свой пароль?</a>
                            </div>
                        </form>
                    </div>

                    <div class="log-popup-form-qr" data-role="log-popup-form-qr">
                        <div class="log-popup-form-qr-header">
                            <span class="log-popup-form-qr-header--top">Отсканируйте QR-код</span>
                            <span class="log-popup-form-qr-header--bottom">в приложении Битрикс24 или камерой смартфона</span>
                        </div>
                        <div class="log-popup-form-qr-icon" data-role="log-popup-form-qr-icon">
                            <div class="log-popup-form-qr-icon-status --success"></div>
                            <div class="log-popup-form-qr-icon-status --loading" data-role="log-popup-form-qr-icon-loader"></div>
                            <div class="log-popup-form-qr-icon-img" id="bx_auth_qr_code"></div>
                        </div>
                        <div class="login-text login-item">
                            <input tabindex="-1" type="checkbox" id="USER_REMEMBER_QR" name="USER_REMEMBER_QR" value="Y" class="login-checkbox-user-remember" checked="checked"/>
                            <label class="login-item-checkbox-label" for="USER_REMEMBER_QR">Запомнить меня на этом компьютере</label>
                        </div>
                        <div class="log-popup-form-qr-buttons">
                            <div class="login-btn login-btn-transparent" data-role="log-popup-form-qr-button-back">Назад</div>
                        </div>
                    </div>

                    <script type="text/javascript">
                        function fireEnterKey(event)
                        {
                            event = event || window.event;
                            if (event.keyCode != 13)
                                return true;

                            var src = event.srcElement || event.target;
                            if (!src || (src.tagName.toLowerCase() != "textarea"))
                            {
                                var form = document.forms["form_auth"];
                                if (form)
                                {
                                    var password = form.elements["USER_PASSWORD"];
                                    if (!password || BX.type.isNotEmptyString(password.value))
                                        form.submit();
                                }

                                BX.PreventDefault(event);
                            }

                            return true;
                        }

                        BX.ready(function() {
                            BX.focus(document.forms["form_auth"]["USER_LOGIN"]);
                            BX.bind(document.forms["form_auth"], "keypress", fireEnterKey);


                            new QRCode('bx_auth_qr_code', {
                                text: 'https://b24.to/a/s1/YKCr1Kg4eBPdPval/qU6DyTYi2o7RxcPYM42ml3Z1E7F7KEi9/',
                                width: 220,
                                height: 220,
                                colorDark: '#000000',
                                colorLight: '#ffffff'
                            });

                            var pullConfig = {
                                'server': {
                                    'version': '4',
                                    'server_enabled': true,
                                    'mode': 'shared',
                                    'long_polling': 'https://rtc-cloud-ms1.bitrix.info/subws/',
                                    'long_pooling_secure': 'https://rtc-cloud-ms1.bitrix.info/subws/',
                                    'websocket_enabled': true,
                                    'websocket': 'wss://rtc-cloud-ms1.bitrix.info/subws/',
                                    'websocket_secure': 'wss://rtc-cloud-ms1.bitrix.info/subws/',
                                    'publish_enabled': true,
                                    'publish': 'https://rtc-cloud-ms1.bitrix.info/rest/',
                                    'publish_secure': 'https://rtc-cloud-ms1.bitrix.info/rest/',
                                    'config_timestamp': '1681913561'
                                },
                                'api': {
                                    'revision_web': '19',
                                    'revision_mobile': '3'
                                },
                                'channels': {
                                    'private': {
                                        'id': '99dbc221414628279f75a12ea4f0887d:e47e4a686d01f689e33047cd98803e17.1048bffedaff6a0111256d443fdeca6239fa0650',
                                        'public_id': 'e47e4a686d01f689e33047cd98803e17.11b79ef257feee7dfc44eb559e7fc5269f4be59c',
                                        'start': '2024-10-09T20:07:55+03:00',
                                        'end': '2025-10-09T20:07:55+03:00',
                                        'type': 'private'
                                    }
                                },
                                'clientId': 'e3b3b304d10179addd0bd1d496d17692',
                                'publicChannels': false
                            };
                            if (pullConfig)
                            {
                                var Pull = new BX.PullClient();
                                Pull.subscribe({
                                    moduleId: 'main',
                                    command: 'qrAuthorize',
                                    callback: function(params) {
                                        if (params.token)
                                        {
                                            blockQrImage.classList.add('--loading');
                                            loader.show();

                                            BX.ajax.runAction(
                                                'main.qrcodeauth.authenticate',
                                                {
                                                    data: {
                                                        token: params.token,
                                                        remember: (BX('USER_REMEMBER_QR') && BX('USER_REMEMBER_QR').checked ? 1 : 0)
                                                    }
                                                }
                                            ).then(
                                                function(response)
                                                {
                                                    blockQrImage.classList.remove('--loading');
                                                    loader.hide();

                                                    if (response.status === 'success')
                                                    {
                                                        blockQrImage.classList.add('--success');

                                                        window.location = (params.redirectUrl != '' ? params.redirectUrl : window.location);
                                                    }
                                                }
                                            );
                                        }
                                    }.bind(this)
                                });
                                Pull.start(pullConfig);
                            }

                            // slide controller
                            var buttonQr = document.querySelector('[data-role="login-wrapper-qr-link"]');
                            var buttonBack = document.querySelector('[data-role="log-popup-form-qr-button-back"]');
                            var blockInput = document.querySelector('[data-role="log-popup-form-input"]');
                            var blockQr = document.querySelector('[data-role="log-popup-form-qr"]');
                            var blockQrImage = document.querySelector('[data-role="log-popup-form-qr-icon"]');

                            if (buttonQr)
                            {
                                buttonQr.addEventListener('click', function() {
                                    blockQr.classList.add('--show');
                                    blockInput.classList.remove('--show');
                                });
                            }

                            if (buttonBack)
                            {
                                buttonBack.addEventListener('click', function() {
                                    blockQr.classList.remove('--show');
                                    blockInput.classList.add('--show');
                                });
                            }
                            // slider controller end

                            var loader = new BX.Loader({
                                target: document.querySelector('[data-role="log-popup-form-qr-icon-loader"]'),
                                size: 150
                            });


                        });
                    </script>
                </div>
                <div class="log-popup-caption-wrap">
                    <div class="log-popup-caption">

                        &copy; &laquo;Битрикс&raquo;, 2024. Объединяем компанию с
                        <a href="http://www.bitrix24.ru/" target="_blank">&laquo;1С-Битрикс24&raquo;</a>
                    </div>
                </div>
            </div>
        </td>
    </tr>
    <tr>
        <td class="log-bottom-cell">
            <span class="log-bottom-cap"></span>
        </td>
    </tr>
</table>
<script type="text/javascript">
    BX.ready(function() {
        var lang_toggle = BX('language-box');
        BX.bind(lang_toggle, 'click', function() {
            BX.PopupMenu.show('feed-filter-popup', lang_toggle, [
                    {
                        text: "Русский",
                        className: "language-box-item ru",
                        onclick: function() {
                            reloadPage("ru");
                        }
                    },
                    {
                        text: "Английский",
                        className: "language-box-item en",
                        onclick: function() {
                            reloadPage("en");
                        }
                    },
                    {
                        text: "Немецкий",
                        className: "language-box-item de",
                        onclick: function() {
                            reloadPage("de");
                        }
                    },
                    {
                        text: "Украинский",
                        className: "language-box-item ua",
                        onclick: function() {
                            reloadPage("ua");
                        }
                    },
                    {
                        text: "Испанский",
                        className: "language-box-item la",
                        onclick: function() {
                            reloadPage("la");
                        }
                    }
                ],
                {
                    offsetTop: 10,
                    offsetLeft: 0,
                    angle: {
                        offset: 33
                    }
                }
            );
        })
    });
    function reloadPage(lang)
    {
        var url = window.location.href;
        url = url.replace(/(\?|\&)user_lang=[A-Za-z]{2}/, "");
        url += (url.indexOf("?") == -1 ? "?" : "&") + "user_lang=" + lang;
        window.location.href = url;
    }
</script>

</body>
</html>
